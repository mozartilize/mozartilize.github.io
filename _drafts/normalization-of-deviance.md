---
layout: post
title: "Normalization of Deviance"
---

Có bao giờ bạn đề cập đến một chuyện hết sức bình thường đối với bạn
nhưng khiến mọi người ngạc nhiên chưa? Tôi hay bị như vậy khi có những chuyện
đồng nghiệp nào của tôi cũng nghĩ đó là bình thường. Vì lý do nào đó, khuôn mặt
của người đang nói chuyện với tôi đang cười chuyển dần sang kinh hãi.
Dưới đây là một vài ví dụ tiêu biểu.

Có một công ty mà tôi nghĩ là nơi tốt nhất mình từng làm việc, kết hợp
giữa Valve và Netflix. Mọi người rất tuyệt vời và bạn được tự do làm những điều
mình muốn. Nhưng đó cũng là một tác dụng phụ, họ mất khoản một nửa nhân viên mới
trong năm đầu tiên, một số tự nguyện và một số thì không. Hoàn toàn bình thường,
nhỉ? Dưới đây là một số giai thoại được những người ở những nơi tôi từng làm việc
coi là hoàn toàn bình thường. Và đa số không chỉ bình thường mà còn đáng khen ngợi.

Có một công ty cực kì bảo mật về hệ thống. Điển hình là có một team nọ, nếu
họ thông báo lỗi đến nhà sản xuất phần cứng, các lỗi đó sẽ được vá và những
đối thủ cạnh tranh cũng sẽ sử dụng những bản vá lỗi đó. Giải pháp: họ yêu cầu mã
nguồn của phần cứng và tự sửa những lỗi đó! Gần đây, tôi biết có một nhóm ở
ngoài công ty đang cố để thực hiện lại thuật toán trong bài báo khoa học mà công
ty xuất bản đầu năm nay. Nhóm đó phát hiện rằng họ không thể thu được kết quả và
thuật toán trong bài báo là sai; khi được hỏi về điều này, tác giả giải thích
rằng "chúng tôi đã có một vài sửa đổi trong bài báo" và từ chối chia sẻ những
sửa đổi đó. Công ty đã cố tình công bố một kết quả không thể thực thi lại để
tránh cho đi những chi tiết đáng giá, được coi là bình thường (tiêu chuẩn). Công
ty đảm bảo an toàn thông tin bằng quy định về việc xa thải những ai làm lộ ra ngoài.
Chúng được giới thiệu trong các buổi họp (định hướng) nêu tên những ai bị đuổi (ví dụ
người làm lộ thông tin nơi tổ chức buổi hòa nhạc), và thông báo sa thải tại các buổi họp
toàn công ty. Kết quả của những chính sách đó là tôi biết nhiều người ngại chuyển tiếp
email về những thứ như thông tin cập nhật về bảo hiểm y tế cho vợ/chồng vì sợ gửi
nhầm email và bị sa thải; thay vào đó, họ sử dụng một máy tính khác để nhập lại email và
chuyển nó đi hoặc chụp ảnh email trên điện thoại của họ.

Có một công ty tự nhiên một ngày tôi để ý thấy có hai người này không bao giờ ở
chung một phòng. Tôi được biết là họ có mối thù hàng thập kỉ, và cũng có những
cải thiện - trong nhiều năm họ không thể ở chung một phòng vì người kia có thể
nổi nóng mà làm điều đáng tiếc, nhưng chuyện cũng nguội dần khi có lúc bắt gặp cả
hai ở cùng khu hay cùng phòng. Họ cũng chẳng phải người xa lạ. Họ là quản lý của
hai team duy nhất của công ty.

Có một công ty với văn hóa kì lạ đến mức khi tôi viết một bài về nó, tôi nhận ra tôi
không chỉ viết dài hơn những bài khác, mà còn dài hơn tổng số chúng cộng lại
(đến giờ đã hơn 100k từ, ngang với một cuốn sách nhỏ). Đây cũng là công ty tôi
được biết là rất tuyệt vời, vì, thay vì sử dụng phân tích dữ liệu để đưa ra quyết định,
họ sử dụng các mối quan hệ, và ý tưởng dùng dữ liệu cũng là một điều bí ẩn;
không ai làm vậy cả. Đây cũng là công ty mà bốn điều họ nói với tôi để thuyết
phục tôi gia nhập đều là sai, và cuối cùng công việc ở đó tôi đặc biệt không hề
muốn làm. Khi tôi vào làm, team của tôi không hề sử dụng quản lý phiên bản
(version control). Mặc dùng tôi đã thuyết phục được họ điều đó, tôi lại thất bại khi
yêu cầu họ chạy kiểm thử (test) trước khi biên dịch chương trình (build) để khỏi
phải gặp nhiều lỗi trong ngày. Khi tôi nói nó ảnh hưởng đến năng suất làm việc
thì họ bảo không sao vì nó ảnh hưởng tất cả mọi người như nhau. Nếu là có vấn đề
thì đó là do mức năng suất của tôi nên tôi không cần quan tâm đén việc nó ảnh
hưởng đến cả team vì mọi người ai cũng thấy bình thường.

Có một công ty có nhiều sáng kiến lớn để tuyển dụng nhiều phụ nữ hơn vào các
vai trò kỹ thuật, nơi họ vẫn bị từ chối sau khi phỏng vấn vì không đủ trình độ kỹ thuật
sau khi được hỏi những câu hỏi như "bạn có kinh nghiệm về thuật toán không hay
chỉ code thôi?". Tôi đã nghĩ rằng lời giới thiệu với đánh giá cao của tôi sẽ ngăn chặn
điều đó, nhưng thực tế không phải vậy.

Có một công ty nơi mình tôi làm việc của bốn người với ngân sách hàng năm cả
trăm triệu đô la và tác động hàng tỷ đô la mỗi năm, nhưng khi được yêu cầu về
những thứ giá trị khoảng vài trăm đô phải mất hàng tháng trời để xử lý hoặc bị
từ chối.

Bạn có thể thắc mắc phải chăng tôi vừa làm việc ở những nơi có tình trạng lộn xộn
bất thường. Đúng vậy, các công ty đó thường được coi là rất ổn và hai trong số đó
được coi là những nơi tốt nhất để làm việc, nhưng cũng có thể những nơi đó được đánh
giá quá cao. Nhưng tôi cũng có trải nghiệm tương tự khi nghe những câu chuyện về cách
các công ty khác vận hành, thậm chí ở những nơi có tiếng xuất sắc về chuyên môn kỹ thuật,
ngoại trừ việc tôi là người cảm thấy sốc còn bạn của tôi cho rằng chuyện của họ là
bình thường.

Có những công ty sử dụng flaky, bao gồm phần lớn các công ty mới nổi sử dụng
Python ở thung lũng Silicon. Nếu bạn không biết nó là gì, thì đây là một thư
viện để bạn đánh dấu những kiểm thử (tests) chạy lúc đạt (pass) lúc không (fail).
Khi tôi hỏi một số đồng nghiệp về thư viện này, học đều đoán rằng nó sẽ chạy những kiểm
thử nhiều lần và đánh kiểm thử đó không đạt nếu một trong những lần chạy không đạt.
Đúng, nhưng không hoàn toàn. Về mặt kĩ thuật thì flaky có thể được dùng như vậy nhưng
thực tế né được dùng để chạy kiểm thử nhiều lần và đánh đạt nếu một trong những
lần chạy đạt. Công ty tạ ra flaky là một công ty cung cấp sản phẩm về lưu trữ,
và nó được sử dụng rộng rãi bởi các đối thủ cạnh tranh.

Có một công ty nổi tiếng vì có hệ thống vận hành với độ tin cậy hai số 9 trong lần
kiểm tra trước của tôi, vì những lý do hoàn toàn có thể dự đoán được từ các quy trình
kỹ thuật xuất sắc của họ. Đây là điều không cần phải được công khai vì có nhiều
công ty đạt được điều đó. Ở đây tôi không nói về những công ty đang cố gắng trở thành
reddit hoặc twitter thứ hai, vì họ chỉ cần tính ổn định một số 9 là đủ. Tôi đang nói
về những công ty bán nền tảng mà các công ty khác dựa vào, nếu dịch vụ của họ có sự cố
thì các công ty lệ thuộc sẽ bị liên lụy. Nhiều công ty bán cơ sở hạ tầng chỉ có độ tin
cậy ở mức hai số 9.

Theo như tôi biết, điều xảy ra ở nhiều công ty này là họ bắt đầu vào tập trung
gần như hoàn toàn vào phát triển sản phẩm. Điều đó hoàn toàn hợp lý, bởi vì các
công ty này có giá trị gần như bằng 0 khi chúng được thành lập; họ không bận tâm
đến những thứ bảo vệ họ khỏi tổn thất, chẳng hạn như các biện pháp tốt cho vận
hành hoặc bảo mật, bởi vì họ không có gì để mất cả (à, ngoại trừ dữ liệu người
dùng khi sự cố bảo mật không thể tránh khỏi xảy ra và nếu bạn nói chuyện với
những người làm bảo mật ở những công ty mới nổi này (Unicorns) bạn sẽ biết rằng
những điều này là có thật).

Kết quả là nó tạo ra một nền văn hóa nơi mà nguồn lực chỉ dồn vào phát triển và
bỏ qua các nguy cơ. Văn hóa đó tồn tại ngay cả khi công ty đã phát triển đến định
giá tỷ đô, và nắm trong tay thứ gì đó có thể mất. Bất cứ ai gia nhập những công
ty này từ Google, Amazon hay có nền tảng vận hành hệ thống bài bản đều bị sốc.
Thường thì họ sẽ cố sữa chữa rồi rời đi khi không thể cải thiện gì.

Google có lẽ có các phương pháp vận hành cũng như bảo mật tốt nhất so với bất kỳ
công ty công nghệ hiện nay. Thật dễ dàng để nói rằng bạn nên coi trọng chúng như
Google đã làm, nhưng chúng ta sẽ tham khảo xem họ đạt được điều đó như thế nào.
Nếu nhìn vào mã nguồn của họ, bạn sẽ thấy nhiều dịch vụ khác nhau có tên kết thúc
bằng "z", cũng như một số lượng lớn các biến. Tôi được biết đó là vì ngày xưa có
người muốn thêm tính năng giám sát hệ thống (monitoring). Sẽ không thực sự an toàn
nếu để google.com/somename xuất ra dữ liệu giám sát, vì vậy họ đã thêm z.
google.com/somenamez. Để bảo mật. Tại công ty hiện có bảo mật tốt nhất thế giới.
Bây giờ họ bảo mật tốt đến mức nhiều người mà tôi đã nói chuyện (đều vào công ty
sau này) kịch liệt phủ nhận nó, mặc dù lý do họ đưa ra không thực sự hợp lý lắm
(như là để tránh trùng tên) và tôi có thông tin này từ những người làm việc tại
thời điểm đó.

Google đi từ việc thêm "z" vào tên các dịch vụ, trở thành công ty có bảo mật
hàng đầu không phải vì ai đó có một bài phát biểu hấp dẫn hay một bài viết
thuyết phục. Họ trở thành như thế vì bị bẽ mặt vài lần, điều đó là đòn bẩy
cho những người muốn làm mọi việc "chuẩn chỉnh" sữa chữa lại những quy trình
căn bản. Mọi công ty có phương pháp vận hành tốt mà tôi biết đều trải qua câu
chuyện như thế. Microsoft là một trò hề trong khâu bảo mật nhiều năm, cho đến khi
có quá số lỗi bảo mật bị khai thác quá lớn buộc họ phải nghiêm túc hơn về nó.
Điều này nghe có vẻ đơn giản, nhưng nếu bạn nói chuyện với những người liên quan,
sự thay đổi thật tàn khốc. Bất chấp yêu cầu từ cấp trên, vẫn có sự phản kháng mạnh
mẽ từ những người đưa công ty đạt được vị thế của năm 2003 không muốn lãng phí
thời gian vào vấn đề bảo mật. Tại sao phải thay đổi những gì đang hoạt động?

Bạn có thể thấy điều này trong mọi ngành công nghiệp. Một ví dụ kinh điển mà dân
công nghệ thường nhắc đến là việc rửa tay của các bác sĩ, y tá. Ai cũng biết rằng
vi trùng có tồn tại và việc rửa tay đúng cách sẽ làm giảm đáng kể tỷ lệ lây truyền
chúng và do đó làm giảm đáng kể tỷ lệ tử vong trong bệnh viện. Mặc dù vậy, các bác sĩ
và y tá đã qua đào tạo vẫn thường không làm điều đó. Nhiều biện pháp được áp dụng.
Biển báo nhắc nhở mọi người rửa tay sẽ cứu được mạng sống. Nhưng nếu có người đứng
ở chỗ rửa tay yêu cầu những người đi ngang qua rửa tay thì thậm chí còn có nhiều mạng
sống được cứu hơn. Mọi người có thể bỏ qua các biển báo, nhưng họ không thể bỏ qua
việc bị buộc phải rửa tay.

Điều này phản ánh một số nỗ lực của các công ty công nghệ đưa ra các phương pháp
vận hành tốt hơn. Nếu bạn nói với mọi người rằng họ nên như thế này, điều đó sẽ giúp
ích được phần nào. Nhưng nếu bạn yêu cầu áp dụng chúng thông qua code review, điều đó
sẽ giúp ích rất nhiều.

Dữ liệu cho thấy con người thực sự rất tệ trong việc dành thời gian để làm những
việc được hiểu rõ là có thể giảm thiểu nguy cơ xảy ra các sự kiện hiếm gặp nhưng
thảm khốc. Chúng ta sẽ biện hộ rằng đi đường tắt là điều đúng đắn và hợp lý nên làm.
Có một thuật ngữ cho vấn đề này: quá trình bình thường hóa của sự lệch lạc. Nó được
nghiên cứu kỹ trong một số ngành khác bao gồm chăm sóc sức khỏe, hàng không, kỹ thuật
cơ khí, kỹ thuật hàng không vũ trụ và kỹ thuật dân dụng, nhưng chúng tôi không thấy nó
được thảo luận trong ngành phần mềm. Trên thực tế, tôi chưa bao giờ thấy thuật ngữ này
được sử dụng trong ngành phần mềm.

Có thể học hỏi từ sai lầm của người khác thay vì tự mình mắc phải mọi lỗi lầm không?
Với tình trạng của ngành phần mềm thì nghe có vẻ khó xảy ra, nhưng hãy thử xem.
John Banja có một bài viết tóm tắt rất hay về quá trình bình thường hóa của sự lệch
lạc trong y tế, với những bài học mà chúng ta có thể áp dụng vào ngành phần mềm. Một
điều cần lưu ý là, vì Banja quan tâm đến kết quả của bệnh nhân, nên có sự tương đồng
gần gũi với các phương thức thất bại của devops, nhưng quá trình bình thường hóa của
sự lệch lạc cũng xảy ra trong nhiều bối cảnh khác nhau.
